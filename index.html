<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu z Rozwijaniem</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="content">
        <!-- Główna zawartość strony -->
    </div>
    
    <!-- Kontener menu załadowany z pliku menu.html -->
    <div id="menuContainer" class="collapsed">
        <div id="menuToggle">&#8226;</div> <!-- Kółko jako przycisk menu -->
    </div>

    <div id="stats" style="display: none;">
        Bounce Count: <span id="bounceCount">0</span><br>
        Ball Count: <span id="ballCount">0</span>
    </div>

    <!-- Załaduj menu.html do #menuContainer -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            fetch('menu.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('menuContainer').insertAdjacentHTML('beforeend', data);
                    initMenu();
                });
        });

        function initMenu() {
            document.getElementById("menuToggle").addEventListener("click", toggleMenu);
            makeDraggable();
        }

        function toggleMenu() {
            let menuContainer = document.getElementById("menuContainer");
            menuContainer.classList.toggle("collapsed");
            menuContainer.classList.toggle("expanded");

            let toggle = document.getElementById("menuToggle");
            if (menuContainer.classList.contains("collapsed")) {
                toggle.innerHTML = "&#8226;"; // Kółko
            } else {
                toggle.innerHTML = "&#9654;"; // Strzałka w prawo
            }
        }

        function makeDraggable() {
            const menuContainer = document.getElementById("menuContainer");
            let offsetX, offsetY, isDragging = false;

            menuContainer.addEventListener('mousedown', (e) => {
                isDragging = true;
                offsetX = e.clientX - parseFloat(window.getComputedStyle(menuContainer).left);
                offsetY = e.clientY - parseFloat(window.getComputedStyle(menuContainer).top);
                menuContainer.style.cursor = 'grabbing';
            });

            window.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    menuContainer.style.left = `${e.clientX - offsetX}px`;
                    menuContainer.style.top = `${e.clientY - offsetY}px`;
                }
            });

            window.addEventListener('mouseup', () => {
                isDragging = false;
                menuContainer.style.cursor = 'grab';
            });
        }
    </script>
    <script src="script.js"></script>
</body>
</html>
